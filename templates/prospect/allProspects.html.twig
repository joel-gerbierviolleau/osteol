{% extends 'base.html.twig' %}

{% block title %}{{ 'prospect.admin.all_prospects.page_title'}}{% endblock %}

{% block body %}

	<main class="container-lg">
	  	<div class="row py-5">
	  		<div class="col">

  				<h3 class="text-osteolia">{{ 'prospect.admin.all_prospects.title' | trans }}</h3>
  				<p class="lead">{{ 'prospect.admin.all_prospects.summary' | trans({'%nb_prospects%' : prospects|length }) }}</p>
  				<div class="col-12">
  					<table class="table table-striped table-hover">
  						<thead>
  							<tr>
  								<th scope="col">Id</th>
  								<th scope="col">{{ 'prospect.admin.properties.fullName' | trans }}</th>
  								<th scope="col">{{ 'prospect.admin.properties.email' | trans }}</th>
  								<th scope="col">{{ 'prospect.admin.properties.isOkToBeContacted' | trans }}</th>
  								<th scope="col">{{ 'prospect.admin.properties.phoneNumber' | trans }}</th>
  								<th scope="col">{{ 'prospect.admin.properties.school' | trans }}</th>
  								<th scope="col">{{ 'prospect.admin.properties.yearsOfPractice' | trans }}</th>
  								<th scope="col">{{ 'prospect.admin.properties.created_on' | trans }}</th>
  								<th scope="col">{{ 'prospect.admin.action.actions' | trans }}</th>
  							</tr>
  						</thead>
  						<tbody>
							{% for p in prospects %} 
							<tr>
								<td scope="row">{{ p.id }}</td>
								<td>{{ p.lastName | upper }}, {{ p.firstName }}</td>
								<td>{{ p.email }}</td>
								<td class="text-center">{% if p.isOKToBeContacted == true %}<i class="bi bi-check text-success"></i>{% else %}<i class="bi bi-x"></i>{% endif %}</td>
								<td>{{ p.phoneNumber }}</td>
								<td>{{ p.school }}</td>
								<td>{{ p.yearsOfPractice }}</td>
								<td>{{ p.creationDate | date('d/m/Y') }}</td>
								<td class="text-center"><a href="{{ path('prospect/edit', {'id' : p.id }) }}" class="me-2"><i class="bi bi-pencil"></i></a><a href="{{ path('prospect/hard-delete', {'id' : p.id }) }}" class="me-2"><i class="bi bi-trash"></i></a></td>
							</tr> 							
							{% endfor %}
  						</tbody>
  					</table>
	  			</div>	
            </div>
        </div>
    </main>

 {% endblock %}